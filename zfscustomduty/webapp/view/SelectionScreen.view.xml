<mvc:View
    controllerName="customduty.ui.invoiceposting.controller.SelectionScreen"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:core="sap.ui.core"
    xmlns:t="sap.ui.table"
    displayBlock="true"
    xmlns="sap.m"
    xmlns:layout="sap.ui.layout"
    xmlns:f="sap.f"
    xmlns:form="sap.ui.layout.form"
    xmlns:unified="sap.ui.unified"
>
    <f:DynamicPage
        id="selectionScreen"
        showFooter="true"
        fitContent="true"
    >
        <f:title>
            <f:DynamicPageTitle id="idSelectionScreenTitle">
                <f:heading>
                    <Title
                        id="idSelectionScreenTitleText"
                        text="{i18n>SelectionScreenTitle}"
                    />
                </f:heading>
            </f:DynamicPageTitle>
        </f:title>
        <f:content>
            <VBox
                id="idSelectionScreenViewVBox"
                class="sapUiSmallMargin"
            >
                <form:SimpleForm
                    id="idUploadForm"
                    editable="true"
                    layout="ResponsiveGridLayout"
                    labelSpanXL="4"
                    labelSpanL="3"
                    labelSpanM="4"
                    labelSpanS="12"
                    adjustLabelSpan="false"
                    emptySpanXL="0"
                    emptySpanL="4"
                    emptySpanM="0"
                    emptySpanS="0"
                    columnsXL="2"
                    columnsL="1"
                    columnsM="1"
                    singleContainerFullSize="false"
                >
                    <form:content>
                        <!--  Plant Field  -->
                        <Label
                            id="idSelectionScreenViewPlantLabel"
                            text="{i18n>Plant}"
                            required="true"
                        />
                        <MultiInput
                            id="idSelectionScreenViewPlantMultiInput"
                            showValueHelp="true"
                            width="50%"
                            valueStateText="{i18n>FieldcanNotBeEmptyMsg}"
                            valueState="{= ${uploadChaFileModel>/isPlantFieldFilled} ? 'None' : 'Error'}"
                        />
                        <!--  BE Number Field  -->
                        <Label
                            id="idSelectionScreenViewBENumberLabel"
                            text="{i18n>BENumber}"
                        />
                        <FlexBox
                            id="idSelectionScreenViewBENumberFlexBox"
                            justifyContent="Start"
                        >
                            <Input
                                id="idSelectionScreenViewBENumberInputFrom"
                            />
                            <Text
                                text="to"
                                class="sapUiTinyMarginBegin"
                            />
                            <Input
                                id="idSelectionScreenViewBENumberInputTo"
                                class="sapUiTinyMarginBegin"
                            />
                        </FlexBox>

                        <!--  PO vendor Field  -->
                        <Label
                            id="idSelectionScreenViewPOVendorLabel"
                            text="{i18n>POVendor}"
                        />
                        <MultiInput
                            id="idSelectionScreenViewPOVendorMultiInput"
                            width="50%"
                        />
                        <!--  Custom vendor Field  -->
                        <Label
                            id="idSelectionScreenViewCustomVendorLabel"
                            text="{i18n>CustomVendor}"
                            required="true"
                        />
                        <MultiInput
                            id="idSelectionScreenViewCustomVendortMultiInput"
                            showValueHelp="true"
                            width="50%"
                            valueStateText="{i18n>FieldcanNotBeEmptyMsg}"
                            valueState="{= ${uploadChaFileModel>/isCustomVendorFieldFilled} ? 'None' : 'Error'}"
                        />
                        <!--  Overseas Freight vendor Field  -->
                        <Label
                            id="idSelectionScreenViewOverseasVendorLabel"
                            text="{i18n>OverseasFreightVendor}"
                        />
                        <MultiInput
                            id="idSelectionScreenViewOverseasVendorMultiInput"
                            width="50%"
                        />
                        <!--  Local Freight vendor Field  -->
                        <Label
                            id="idSelectionScreenViewLocalFrieghtVendorLabel"
                            text="{i18n>LocalFreightVendor}"
                            required="true"
                        />
                        <MultiInput
                            id="idSelectionScreenViewLocalVendortMultiInput"
                            showValueHelp="true"
                            width="50%"
                            valueStateText="{i18n>FieldcanNotBeEmptyMsg}"
                            valueState="{= ${uploadChaFileModel>/isLocalVendorFieldFilled} ? 'None' : 'Error'}"
                        />
                        <!--  Insurance vendor Field  -->
                        <Label
                            id="idSelectionScreenViewInsuranceVendorLabel"
                            text="{i18n>InsuranceVendor}"
                            required="true"
                        />
                        <MultiInput
                            id="idSelectionScreenViewInsuranceVendortMultiInput"
                            showValueHelp="true"
                            width="50%"
                            valueStateText="{i18n>FieldcanNotBeEmptyMsg}"
                            valueState="{= ${uploadChaFileModel>/isInsuranceVendorFieldFilled} ? 'None' : 'Error'}"
                        />

                        <!--  CHA File Browse  -->
                        <Label
                            id="idSelectionScreenViewCHAFileLabel"
                            text="{i18n>CHAFile}"
                            labelFor="idSelectionScreenViewSuppierInvoiceNumberInput"
                            required="true"
                        />
                        <unified:FileUploader
                            uploadComplete="onUploadComplete"
                            valueState="{= ${uploadChaFileModel>/isChaFileFilled} ? 'None' : 'Error'}"
                            valueStateText="{i18n>FieldcanNotBeEmptyMsg}"
                            id="fileUploader"
                            mimeType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"
                            useMultipart="false"
                            placeholder="{i18n>CHAFile}"
                            sameFilenameAllowed="true"
                            iconOnly="false"
                            buttonOnly="false"
                            fileType="XLSX,xlsx"
                            icon="sap-icon://upload"
                            iconFirst="true"
                            style="Emphasized"
                            change="onInputChange"
                        />
                        <Label
                            id="idSelectionScreenViewFlexBoxLabel"
                            text=""
                        />
                        <FlexBox
                            id="idSelectionScreenViewFlexBox"
                            justifyContent="Start"
                            class="sapUiSmallMarginTop"
                        >
                            <Button
                                id="idSelectionScreenViewClearButton"
                                text="{i18n>Clear}"
                                press="onClearForm"
                                class="sapUiSmallMarginEnd"
                            />
                            <Button
                                id="idSelectionScreenViewUploadButton"
                                text="{i18n>Upload}"
                                press="onSubmitFile"
                                class="sapUiSmallMarginEnd"
                                enabled="{= ${uploadChaFileModel>/isChaFileFilled}}"
                            />
                            <!--  <Button
                                id="idUploadCHAFileViewDownloadTemplateButton"
                                type="{AppControl>/style/buttonType}"
                                text="{i18n>DownloadTemplate}"
                                visible="{AppControl>/visibility/isDownloadTemplateVisible}"
                            />  -->
                        </FlexBox>
                    </form:content>
                </form:SimpleForm>
                <t:Table
                    rows="{ChaFileData>/}"
                    selectionMode="MultiToggle"
                    paste="onPaste"
                    class="sapUiSmallMarginTop sapUiTinyMarginBottom"
                    ariaLabelledBy="title"
                >
                    <t:extension>
                        <OverflowToolbar style="Clear">
                            <Title
                                class="sapUiTinyMargin"
                                id="title"
                                text="{i18n>InvoiceTableTitle}"
                            />
                            <ToolbarSpacer />
                            <Button id="idValidateBtn"
                                class="sapUiTinyMargin"
                                text="Validate" enabled="false"
                                type="Emphasized"
                            />
                        </OverflowToolbar>
                    </t:extension>
                    <t:columns>
                        <t:Column width="11rem">
                            <Label text="{i18n>Invoice}" />
                            <t:template>
                                <Text
                                    text="{ChaFileData>InvoiceId}"
                                    wrapping="false"
                                />
                            </t:template>
                        </t:Column>
                        <t:Column width="9rem">
                            <Label text="{i18n>LocalFreightAmount}" wrapping="true"/>
                            <t:template>
                                <!-- <unified:Currency
                                    value="{ChaFileData>TotalAmount}"
                                    currency="{ChaFileData>CurrencyCode}"
                                /> -->
                                <Input value="{ChaFileData>Freight}" />
                            </t:template>
                        </t:Column>
                        <t:Column width="9rem">
                            <Label text="{i18n>InsuranceAmount}" wrapping="true"/>
                            <t:template>
                                <!-- <unified:Currency
                                    value="{ChaFileData>TotalAmount}"
                                    currency="{ChaFileData>CurrencyCode}"
                                /> -->
                                <Input value="{ChaFileData>TotalAmount}" />
                            </t:template>
                        </t:Column>
                        <t:Column width="9rem">
                            <Label text="{i18n>OverseasFreightAmount}" wrapping="true"/>
                            <t:template>
                                <!-- <unified:Currency
                                    value="{ChaFileData>TotalAmount}"
                                    currency="{ChaFileData>CurrencyCode}"
                                /> -->
                                <Input
                                    value="{ChaFileData>OverseasFreightAmount}"
                                />
                            </t:template>
                        </t:Column>
                        <t:Column width="9rem">
                            <Label text="{i18n>ForeignCurrency}" wrapping="true"/>
                            <t:template>
                                <Input value="{ChaFileData>ForeignCurrency}" />
                            </t:template>
                        </t:Column>
                        <t:Column width="9rem">
                            <Label text="{i18n>ExchangeRate}" wrapping="true"/>
                            <t:template>
                                <Input value="{ChaFileData>ExchangeRate}" />
                            </t:template>
                        </t:Column>
                        <t:Column width="9rem">
                            <Label text="{i18n>OverseasFreightVendor}" wrapping="true"/>
                            <t:template>
                                <Input
                                    value="{ChaFileData>OverseasFreightVendor}"
                                />
                            </t:template>
                        </t:Column>
                        <t:Column width="9rem">
                            <Label text="{i18n>POVendor}" wrapping="true"/>
                            <t:template>
                                <Input value="{ChaFileData>POVendor}" />
                            </t:template>
                        </t:Column>
                    </t:columns>
                </t:Table>
            </VBox>
        </f:content>
        <f:footer>
            <OverflowToolbar>
                <Button
                    icon="sap-icon://message-popup"
                    text="{/messagesLength}"
                    type="Emphasized"
                    press="onMessageButtonPress"
                    visible="false"
                />
                <ToolbarSpacer />
                <Button
                    type="Accept"
                    text="Proceed"
                />
            </OverflowToolbar>
        </f:footer>
    </f:DynamicPage>
</mvc:View>
